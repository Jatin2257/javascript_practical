<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>User Registration Form</h3>
        <hr>
    <div>
        <form id="userForm" name="userForm" onsubmit="return validateForm()">
            <label for="name"> Name :</label>
            <input type="text" name="name" id="name"> 
            <span id="errorMessageName" style="color: red;"></span>
            <br>
            <label for="dob">Date Of Birth</label> 
            <input type="date" name="dob" id="dob"> 
            <span id="errorMessageDate" style="color: red;"></span>
            <br>
            <label for="gender">Gender</label>
            <input type="radio" name="gender" id="gender1" value="Male"> Male
            <input type="radio" name="gender" id="gender2" value="Female"> Female
            <span id="errorMessageGender" style="color: red;"></span>
            <br>
            <label for="hobby">Select Hobby</label>
            <select name="hobby" id="hobby">
                <option value="select hobby">Select Hobby</option>
                <option value="reading">Reading</option>
                <option value="painting">Painting</option>
                <option value="dancing">dancing</option>
            </select>
            <span id="erromMessageHobby" style="color: red;"></span>
            <br>
            <label for="mobileNumber">Mobile Number</label>
            <input type="text" name="mobileNumber" id="mobileNumber">
            <span id="errorMobileNumber" style="color: red;"></span>
            <br>
            <button type="submit">Submit</button>
        </form>
    </div>
</body>
<script>

document.getElementById('name').addEventListener('keyup',function(){
    validateName();
});

document.getElementById('mobileNumber').addEventListener('keyup',function(){
    validateMobileNumber();
});

document.getElementById('dob').addEventListener('change',function(){
    validateDate();
})

// document.getElementById('gender').addEventListener('change',function(){
//     document.getElementById()
// })
document.getElementById('gender1').addEventListener('change',function(){
    document.getElementById('errorMessageGender').innerHTML = " ";
})

document.getElementById('gender2').addEventListener('change',function(){
    document.getElementById('errorMessageGender').innerHTML = " ";
})

document.getElementById('hobby').addEventListener('change',function(){
    validateHobby();
})

    function validateName(){
        let isValidName = false;
        let name = document.getElementById("name").value;
        let regex = /^[a-zA-z]+$/
        
        if(!name){
            document.getElementById('errorMessageName').innerHTML = "first name cannot be empty";
        } else if(!regex.test(name)){
            document.getElementById('errorMessageName').innerHTML = "please enter valid first name";
        }else{
            document.getElementById('errorMessageName').innerHTML = "";
            isValidName = true;
        }

        return isValidName;
    }

    function validateMobileNumber(){
        let mobileNumber = document.getElementById('mobileNumber').value;
        let regex =/^[0-9]{10}$/;
        let isValidMobileNumber = false;

        if(!mobileNumber){
            document.getElementById('errorMobileNumber').innerHTML = "mobile number cannot be empty";
        }else if(!regex.test(mobileNumber)){
            document.getElementById('errorMobileNumber').innerHTML = "please enter valid mobile number";
        }else{
            document.getElementById('errorMobileNumber').innerHTML = "";
            isValidMobileNumber = true;
        }

        return isValidMobileNumber;
    }

    function validateDate(){
        let date = document.getElementById('dob').value;
        let isValidDate = false;
        if(!date){
            document.getElementById('errorMessageDate').innerHTML = "date cannot be empty";
        }else{
            document.getElementById('errorMessageDate').innerHTML = "";
            isValidDate = true;
        }

        return isValidDate;
    }

    function validateHobby(){
        let hobby = document.getElementById('hobby').value;
        let isValidHobby = false;
        if(hobby === "select hobby"){
            document.getElementById('erromMessageHobby').innerHTML = "please select hobby";
        }else{
            document.getElementById('erromMessageHobby').innerHTML = "";
            isValidHobby = true;
        }
        return isValidHobby;
    }


    function validateForm(){
        let isValid = true;
    
        if(!validateName()){
            isValid = false;
        }
        if (!validateDate()) {
            isValid = false;
        }
        let gender1 = document.querySelector('input[name="gender"]:checked');
        let gender2 = document.querySelector('input[name="gender"]:checked');
        // let gender = document.getElementsByName('gender');
        // console.log(gender)
        if(!gender1 || !gender2){
            document.getElementById('errorMessageGender').innerHTML = "please select gender";
            isValid = false;
        }else{
            document.getElementById('errorMessageGender').innerHTML = " ";
            isValid = true;
        }
        if (!validateHobby()) {
            isValid = false;
        }
        if(!validateMobileNumber()){
            isValid = false;
        }

        console.log(isValid);

        return isValid;
    }
</script>
</html>